(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04e88138"],{2203:function(e,t,i){},9095:function(e,t,i){"use strict";var a=i("2203"),s=i.n(a);s.a},c66d:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"profile"},[i("div",{staticClass:"profile__title"},[e._v("프로필 편집")]),i("div",{staticClass:"profile__wrapper"},[i("label",{staticClass:"profile__imgbox",class:{"profile__imgbox-ondrag":e.isOnDragOver},on:{drop:e.onImageDrop,dragover:e.onImageDropOver,dragleave:function(t){e.isOnDragOver=!1}}},[i("img",{attrs:{src:e.getProfileImage,alt:"profile_logo"}}),i("p",[i("b",[i("input",{attrs:{type:"file"},on:{change:e.onImageChange}}),e._v(" 프로필 이미지 수정 ")]),e._v("하기 "),i("br"),e._v("또는 "),i("b",[e._v("드래그 앤 드롭")]),e._v("으로 이미지 업로드 ")])]),i("div",{staticClass:"profile__content"},[i("div",{staticClass:"inputfield"},[i("h4",[e._v("이메일")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"inputfield__input",attrs:{type:"email",placeholder:"이메일",disabled:""},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),i("div",{staticClass:"inputfield"},[i("h4",[e._v("이름")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"inputfield__input",attrs:{type:"text",placeholder:"이름을 입력하세요"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),i("div",{staticClass:"inputfield"},[i("h4",[e._v("상태 메시지")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"inputfield__input",attrs:{type:"text",placeholder:"상태 메시지를 입력하세요"},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}})]),i("div",{staticClass:"action"},[i("div",[i("button",{staticClass:"save",on:{click:e.changePassword}},[e._v("비밀번호 변경")]),i("button",{staticClass:"delete"},[e._v("계정 삭제")])]),i("button",{staticClass:"save",on:{click:e.save}},[e._v("저장")])])])])])},s=[],n=(i("7f7f"),i("2b0e")),o=n["a"].extend({data:function(){return{isOnDragOver:!1,imageFileBase64:"",imageFile:{},email:"",name:"",message:""}},created:function(){this.reload()},methods:{reload:function(){this.email=this.getUserInformation.email,this.name=this.getUserInformation.name,this.message=this.getUserInformation.message},onImageChange:function(e){this.imageFile=e.target.files[0]},onImageDrop:function(e){e.preventDefault();var t=e.dataTransfer.files[0];t&&(this.imageFile=t),this.isOnDragOver=!1},onImageDropOver:function(e){this.isOnDragOver=!0,e.preventDefault()},encodeBase64ImageFile:function(e){return new Promise((function(t,i){if(!e)return t("");var a=new FileReader;a.readAsDataURL(e),a.onload=function(e){t(e.target.result)},a.onerror=function(e){i(e)}}))},save:function(){var e=this;this.$store.commit("pushLoading",{name:"CHANGE_INFORMATION",message:"프로필 수정 중"}),this.imageFileBase64?(this.$store.commit("pushLoading",{name:"SET_PROFILE_IMAGE",message:"동아리 사이트 수정 중"}),this.$store.dispatch("SET_PROFILE_IMAGE",{img:this.imageFileBase64}).then((function(t){console.log(t),e.$store.commit("clearLoading","SET_PROFILE_IMAGE"),e.$store.dispatch("CHANGE_INFORMATION",{name:e.name,message:e.message}).then((function(t){e.$store.commit("clearLoading","CHANGE_INFORMATION"),e.$store.commit("showNotice","프로필 수정 성공")}))})).catch((function(e){}))):this.$store.dispatch("CHANGE_INFORMATION",{name:this.name,message:this.message}).then((function(t){e.$store.commit("clearLoading","CHANGE_INFORMATION"),e.$store.commit("showNotice","프로필 수정 성공")}))},changePassword:function(){var e=this;this.$store.commit("pushLoading",{name:"SEND_CHANGEPASSWORD_EMAIL",message:"이메일 보내는 중"}),this.$store.dispatch("SEND_CHANGEPASSWORD_EMAIL",{email:this.email}).then((function(t){e.$store.commit("clearLoading","SEND_CHANGEPASSWORD_EMAIL"),e.$store.commit("showNotice","".concat(e.email," 메일함을 확인해주세요."))})).catch((function(e){return console.log(e)}))},delete:function(){}},watch:{getToken:function(){this.reload()},imageFile:function(){var e=this;this.encodeBase64ImageFile(this.imageFile).then((function(t){e.imageFileBase64=t}))}},computed:{getProfileImage:function(){return this.imageFileBase64?this.imageFileBase64:this.getUserInformation.imgPath?this.$store.state.mainPath+this.getUserInformation.imgPath:"https://pbs.twimg.com/profile_images/770139154898382848/ndFg-IDH_400x400.jpg"},getUserInformation:function(){return this.$store.state.userInformation},getToken:function(){return this.$store.state.userToken}}}),r=o,m=(i("9095"),i("2877")),l=Object(m["a"])(r,a,s,!1,null,"97d21f22",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-04e88138.de009be6.js.map